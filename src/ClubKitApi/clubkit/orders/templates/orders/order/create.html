{% extends 'shop-base.html' %}
{% load crispy_forms_tags %}
{% load static %}
{% block title %}
    Your Shopping Cart| Checkout
{% endblock %}

{% block content %}
    <div class="container">
        <div class="row" style="margin-top: 6%">
            <div class="col-md-8">
                <h4>Checkout</h4>
                <form action="." method="post" novalidate>
                    {% csrf_token %}
                    {{ form|crispy }}<br>
                    <input type="submit" class="btn btn-primary rounded-pill" value="Submit order">
                </form>
            </div>
            <div class="col-md-4">
                <div class="page-header">
                    Your Order
                </div>
                <ul class="list-group list-group-flush">
                    {% for item in cart %}
                        <li class="list-group-item">
                        {{ item.quantity }}x {{ item.product.name }}
                        <span>€{{ item.total_price }}</span>
                        </li>
                    {% endfor %}

                <li class="list-group-item active rounded">Total Cost: €{{ cart.get_total_price }}</li>
                </ul>

            </div>
        </div>
    </div>
{% endblock %}